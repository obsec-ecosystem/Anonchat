<main class="chat-main">
    <header class="chat-header">
        <div class="header-left">
            <div class="header-title" id="current-room-name">Global Lobby</div>
            <div class="header-subtitle" id="peer-count">Connecting...</div>
        </div>
        <div class="header-right">
            <div class="status-pill" title="Connection status">
                <span id="status-indicator" class="status-dot"></span>
                <span class="status-label" id="status-label">Syncing</span>
            </div>
            <button id="auto-scroll" class="ghost-btn" type="button">Auto-scroll: On</button>
            <button id="clear-feed" class="ghost-btn" type="button">Clear</button>
        </div>
    </header>

    <div class="toolbar">
        <label class="field toolbar-field">
            <span class="field-icon">
                <svg width="14" height="14" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35"/></svg>
            </span>
            <input id="message-filter" class="field-input" type="text" placeholder="Search messages">
        </label>
        <div class="room-chip" id="room-chip">Home</div>
    </div>

    <section id="home-summary" class="home-summary hidden">
        <div class="summary-header">
            <div>
                <div class="summary-title">Home Overview</div>
                <div class="summary-subtitle">Nearby devices and network status</div>
            </div>
            <div class="summary-badge" id="home-peer-count">0 nearby</div>
        </div>
        <div class="summary-grid">
            <div class="summary-card">
                <div class="summary-label">Nearby Devices</div>
                <div id="home-nearby" class="summary-value">0</div>
            </div>
            <div class="summary-card">
                <div class="summary-label">Active Rooms</div>
                <div class="summary-value">1</div>
            </div>
            <div class="summary-card">
                <div class="summary-label">Interface</div>
                <div id="home-interface" class="summary-value mono">-</div>
            </div>
            <div class="summary-card">
                <div class="summary-label">Encryption</div>
                <div class="summary-value status-ok">Enabled</div>
            </div>
        </div>
        <div class="summary-grid">
            <div class="summary-card">
                <div class="summary-label">Nickname</div>
                <div class="summary-inline">
                    <label class="field nickname-field">
                        <span class="field-icon">
                            <svg width="14" height="14" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
                        </span>
                        <input id="nickname-input" class="field-input" type="text" placeholder="Set nickname">
                    </label>
                    <button id="nickname-save" class="ghost-btn small-btn" type="button">Update</button>
                </div>
            </div>
            <div class="summary-card">
                <div class="summary-label">Interface</div>
                <div id="interface-menu" class="interface-menu" role="menu" aria-label="Network interfaces"></div>
            </div>
        </div>
        <div class="summary-list">
            <div class="summary-list-title">Nearby Devices</div>
            <div id="home-peers" class="summary-list-items"></div>
        </div>
    </section>

    <div id="feed" class="feed">
        <div id="empty-state" class="empty-state">
            <div class="empty-title">No messages yet</div>
            <div class="empty-subtitle">Say hello or switch to a peer to begin.</div>
        </div>
    </div>

    <button id="scroll-to-bottom" class="scroll-to-bottom" type="button">
        Jump to latest
        <span id="unread-count" class="unread-badge">0</span>
    </button>

    <footer class="composer">
        <form id="send-form" class="input-pill">
            <textarea id="message" class="message-input" rows="1" placeholder="Write a message..."></textarea>
            <input id="file-input" class="file-input" type="file" accept="image/*,.pdf,.txt,.zip" hidden>
            <button id="attach-button" class="composer-btn" type="button" aria-label="Attach file">
                <svg width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M21.44 11.05l-8.49 8.49a5 5 0 01-7.07-7.07l8.49-8.49a3.5 3.5 0 014.95 4.95l-8.49 8.49a2 2 0 01-2.83-2.83l7.78-7.78"/></svg>
            </button>
            <button id="emoji-toggle" class="emoji-btn emoji-toggle" type="button" aria-label="Open emoji picker">ðŸ˜Š</button>
            <button type="submit" class="send-btn" aria-label="Send message">
                <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z"/></svg>
            </button>
        </form>
        <div id="emoji-picker" class="emoji-picker hidden" role="dialog" aria-label="Emoji picker"></div>
        <div class="composer-meta">
            <span class="meta-hint">Enter to send, Shift+Enter for a new line</span>
            <span id="char-count" class="meta-count">0</span>
        </div>
    </footer>

    <div id="toast" class="toast" role="status" aria-live="polite"></div>
</main>
